<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KHN46JMZ0K"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-KHN46JMZ0K');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <title>Global Trends Bubble - Real-Time Trending Topics Visualization | Google Trends Analytics</title>
    <meta name="google-adsense-account" content="ca-pub-7644009675634803">
    <meta name="description" content="Discover what's trending globally with our interactive treemap visualization. Track real-time search trends across Technology, Entertainment, Sports, Politics, and Business. Powered by Google Trends data.">
    <meta name="keywords" content="google trends, trending topics, trend analysis, search trends, viral topics, trend visualization, real-time trends, popular searches, trend tracker, market trends">
    <meta name="author" content="Global Trends Bubble">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://yourdomain.com/global-trends-bubble">
    
    <!-- Open Graph Meta Tags for Social Sharing -->
    <meta property="og:title" content="Global Trends Bubble - Real-Time Trending Topics Visualization">
    <meta property="og:description" content="Discover what's trending globally with our interactive treemap visualization. Track real-time search trends across multiple categories.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yourdomain.com/global-trends-bubble">
    <meta property="og:image" content="https://yourdomain.com/og-image.jpg">
    <meta property="og:site_name" content="Global Trends Bubble">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Global Trends Bubble - Real-Time Trending Topics">
    <meta name="twitter:description" content="Interactive visualization of global trending topics. Track what's popular in tech, entertainment, sports, politics, and business.">
    <meta name="twitter:image" content="https://yourdomain.com/twitter-image.jpg">
    
    <!-- Structured Data (JSON-LD) for Rich Snippets -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Global Trends Bubble",
        "description": "Real-time visualization of trending topics across multiple categories including technology, entertainment, sports, politics, and business",
        "url": "https://yourdomain.com/global-trends-bubble",
        "applicationCategory": "Analytics",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "1250"
        }
    }
    </script>
    
    <!-- Google AdSense Script -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7644009675634803"
            crossorigin="anonymous"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-dark: #0a0e27;
            --bg-darker: #050816;
            --accent-primary: #00d9ff;
            --accent-secondary: #ff006e;
            --accent-tertiary: #8338ec;
            --accent-positive: #06ffa5;
            --accent-negative: #ff3366;
            --text-primary: #ffffff;
            --text-secondary: #a0aec0;
            --shadow-glow: 0 0 30px rgba(0, 217, 255, 0.3);
            --treemap-bg: #1a1a1a;
            --treemap-container-bg: #0a0a0a;
            --header-bg: rgba(10, 14, 39, 0.7);
            --stats-bg: rgba(10, 14, 39, 0.5);
            --search-bg: rgba(10, 14, 39, 0.7);
            --ad-bg: rgba(10, 14, 39, 0.5);
            --panel-bg: rgba(10, 14, 39, 0.95);
        }

        [data-theme="light"] {
            --bg-dark: #f5f7fa;
            --bg-darker: #ffffff;
            --accent-primary: #0088cc;
            --accent-secondary: #d63384;
            --accent-tertiary: #6610f2;
            --accent-positive: #00a86b;
            --accent-negative: #dc3545;
            --text-primary: #212529;
            --text-secondary: #6c757d;
            --shadow-glow: 0 0 30px rgba(0, 136, 204, 0.2);
            --treemap-bg: #e9ecef;
            --treemap-container-bg: #f8f9fa;
            --header-bg: rgba(255, 255, 255, 0.95);
            --stats-bg: rgba(248, 249, 250, 0.95);
            --search-bg: rgba(255, 255, 255, 0.9);
            --ad-bg: rgba(248, 249, 250, 0.9);
            --panel-bg: rgba(255, 255, 255, 0.98);
        }

        body {
            font-family: 'Noto Sans', sans-serif;
            background: linear-gradient(135deg, var(--bg-darker) 0%, var(--bg-dark) 100%);
            color: var(--text-primary);
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
            transition: background 0.3s ease, color 0.3s ease;
        }

        /* Screen Reader Only - for accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Google AdSense Ad Containers */
        .ad-container {
            position: relative;
            background: var(--ad-bg);
            padding: 1rem;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100px;
            transition: background 0.3s ease;
        }

        .ad-label {
            font-size: 0.7rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.5rem;
            opacity: 0.6;
        }

        /* Top Banner Ad - 728x90 or responsive */
        .ad-top-banner {
            max-width: 100%;
            min-height: 90px;
            margin-bottom: 0;
        }

        /* Middle Content Ad - responsive */
        .ad-middle-content {
            max-width: 100%;
            min-height: 250px;
            margin: 2rem 0;
        }

        /* Bottom Banner Ad - 728x90 or responsive */
        .ad-bottom-banner {
            max-width: 100%;
            min-height: 90px;
            margin: 2rem auto;
        }

        /* AdSense Responsive */
        .adsbygoogle {
            display: block;
            width: 100%;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 30%, rgba(131, 56, 236, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(255, 0, 110, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(0, 217, 255, 0.05) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        .noise-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E");
            pointer-events: none;
            z-index: 1;
            opacity: 0.4;
        }

        header {
            position: relative;
            z-index: 100;
            padding: 2rem 3rem;
            backdrop-filter: blur(20px);
            background: var(--header-bg);
            transition: background 0.3s ease;
        }

        .header-content {
            max-width: 100%;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 2rem;
        }

        .logo {
            font-family: 'Noto Sans', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .theme-toggle {
            width: 50px;
            height: 50px;
            border: none;
            background: rgba(0, 217, 255, 0.1);
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            border-radius: 50%;
        }

        .theme-toggle:hover {
            background: var(--accent-primary);
            color: var(--bg-dark);
            transform: rotate(180deg);
        }

        @keyframes glow-pulse {
            0%, 100% { filter: drop-shadow(0 0 10px rgba(0, 217, 255, 0.5)); }
            50% { filter: drop-shadow(0 0 20px rgba(0, 217, 255, 0.8)); }
        }

        .controls {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            align-items: center;
        }

        .control-group {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .btn, select {
            padding: 0.7rem 1.5rem;
            border: none;
            background: rgba(0, 217, 255, 0.1);
            color: var(--text-primary);
            font-family: 'Noto Sans', sans-serif;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            font-weight: 700;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(0, 217, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn:hover, select:hover {
            background: rgba(0, 217, 255, 0.2);
            box-shadow: 0 0 20px rgba(0, 217, 255, 0.4);
            transform: translateY(-2px);
        }

        .btn.active {
            background: var(--accent-primary);
            color: var(--bg-dark);
            box-shadow: var(--shadow-glow);
        }

        select {
            appearance: none;
            padding-right: 2.5rem;
            background-image: url("data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L6 6L11 1' stroke='%2300d9ff' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 1rem center;
        }

        .stats-bar {
            background: var(--stats-bg);
            padding: 1rem 3rem;
            backdrop-filter: blur(10px);
            position: relative;
            z-index: 99;
            transition: background 0.3s ease;
        }

        .stats-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 2rem;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.85rem;
        }

        .stat-value {
            color: var(--accent-primary);
            font-weight: 700;
            font-size: 1.1rem;
        }

        .main-container {
            position: relative;
            z-index: 10;
            max-width: 1600px;
            margin: 0 auto;
            padding: 2rem;
            overflow: hidden;
        }

        .search-box {
            margin-bottom: 2rem;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 1rem 1.5rem;
            background: var(--search-bg);
            border: none;
            color: var(--text-primary);
            font-family: 'Noto Sans', sans-serif;
            font-size: 1rem;
            border-radius: 0;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            box-shadow: 0 0 20px rgba(0, 217, 255, 0.3);
        }

        .search-input::placeholder {
            color: var(--text-secondary);
        }

        .bubble-container {
            position: relative;
            width: 100%;
            height: auto;
            min-height: 800px;
            background: var(--treemap-bg);
            overflow: hidden;
            transition: background 0.3s ease;
        }

        .treemap-container {
            width: 100%;
            height: 100%;
            min-height: 800px;
            display: flex;
            flex-direction: column;
            gap: 2px;
            background: var(--treemap-container-bg);
            padding: 10px;
            box-sizing: border-box;
            transition: background 0.3s ease;
        }

        .category-section {
            display: flex;
            gap: 2px;
            flex: 1;
            min-height: 0;
            flex-wrap: wrap;
            align-items: stretch;
        }

        .treemap-item {
            position: relative;
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr auto;
            gap: 0.5rem;
            padding: 0.8rem;
            cursor: pointer;
            transition: all 0.2s ease;
            overflow: hidden;
            box-sizing: border-box;
            word-wrap: break-word;
            max-width: 100%;
        }

        .treemap-item::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .treemap-item:hover {
            filter: brightness(1.3);
            z-index: 10;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }

        .treemap-item:hover::before {
            opacity: 1;
        }

        .treemap-item.positive {
            background-color: var(--item-color);
        }

        .treemap-item.negative {
            background-color: var(--item-color);
        }

        .item-name {
            font-family: 'Noto Sans', sans-serif;
            font-size: 0.95rem;
            font-weight: 700;
            color: #ffffff;
            text-align: center;
            line-height: 1.2;
            word-wrap: break-word;
            word-break: break-word;
            overflow-wrap: break-word;
            hyphens: auto;
            max-width: 100%;
            grid-column: 1 / 3;
            grid-row: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .item-stats {
            display: contents;
        }

        .item-volume {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 600;
            grid-column: 1;
            grid-row: 2;
            align-self: end;
            justify-self: start;
        }

        .item-change {
            font-size: 1.1rem;
            font-weight: 700;
            color: #ffffff;
            grid-column: 2;
            grid-row: 2;
            align-self: end;
            justify-self: end;
        }

        /* Size variations based on volume */
        .treemap-item.size-xs { flex: 0.5 1 0; min-width: 80px; max-width: 150px; }
        .treemap-item.size-sm { flex: 1 1 0; min-width: 100px; max-width: 200px; }
        .treemap-item.size-md { flex: 2 1 0; min-width: 120px; max-width: 300px; }
        .treemap-item.size-lg { flex: 3 1 0; min-width: 150px; max-width: 400px; }
        .treemap-item.size-xl { flex: 4 1 0; min-width: 180px; max-width: 500px; }

        /* Responsive font sizes */
        .size-xs .item-name { font-size: 0.75rem; }
        .size-sm .item-name { font-size: 0.85rem; }
        .size-md .item-name { font-size: 0.95rem; }
        .size-lg .item-name { font-size: 1.1rem; }
        .size-xl .item-name { font-size: 1.3rem; }

        .size-xs .item-volume { font-size: 0.7rem; }
        .size-sm .item-volume { font-size: 0.75rem; }
        .size-md .item-volume { font-size: 0.85rem; }
        .size-lg .item-volume { font-size: 0.95rem; }
        .size-xl .item-volume { font-size: 1.05rem; }

        .size-xs .item-change { font-size: 0.85rem; }
        .size-sm .item-change { font-size: 0.95rem; }
        .size-md .item-change { font-size: 1.1rem; }
        .size-lg .item-change { font-size: 1.3rem; }
        .size-xl .item-change { font-size: 1.5rem; }

        .info-panel {
            position: fixed;
            right: 2rem;
            top: 50%;
            transform: translateY(-50%);
            width: 350px;
            background: var(--panel-bg);
            padding: 2rem;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
            z-index: 200;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .info-panel.active {
            opacity: 1;
            pointer-events: all;
        }

        .info-panel h2 {
            font-family: 'Noto Sans', sans-serif;
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--accent-primary);
        }

        .info-panel dl {
            margin: 0;
        }

        .info-detail {
            display: flex;
            justify-content: space-between;
            padding: 0.7rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .info-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin: 0;
        }

        .info-value {
            color: var(--text-primary);
            font-weight: 700;
            margin: 0;
        }

        .google-trends-btn {
            display: block;
            width: 100%;
            margin-top: 1.5rem;
            padding: 1rem;
            background: var(--accent-primary);
            color: var(--bg-dark);
            border: none;
            font-family: 'Noto Sans', sans-serif;
            font-size: 0.9rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            text-decoration: none;
        }

        .google-trends-btn:hover {
            background: var(--accent-secondary);
            box-shadow: 0 0 20px rgba(0, 217, 255, 0.4);
        }

        .close-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            width: 30px;
            height: 30px;
            border: none;
            background: rgba(255, 51, 102, 0.2);
            color: var(--accent-negative);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.2rem;
            font-weight: 700;
        }

        .close-btn:hover {
            background: var(--accent-negative);
            color: white;
            transform: rotate(90deg);
        }

        .search-area {
            display: flex;
            gap: 1rem;
            align-items: center;
            margin-bottom: 2rem;
        }

        .search-input-wrapper {
            flex: 1;
        }

        .legend {
            display: flex;
            gap: 1.5rem;
            align-items: center;
            background: var(--search-bg);
            padding: 1rem 1.5rem;
            transition: background 0.3s ease;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 2px;
        }

        .legend-text {
            font-size: 0.8rem;
            color: var(--text-secondary);
            white-space: nowrap;
        }

        @media (max-width: 768px) {
            header {
                padding: 1.5rem;
            }

            .logo {
                font-size: 1.5rem;
            }

            .controls {
                width: 100%;
                justify-content: center;
            }

            .search-area {
                flex-direction: column;
            }

            .legend {
                flex-wrap: wrap;
                width: 100%;
            }

            .info-panel {
                right: 1rem;
                left: 1rem;
                width: auto;
            }

            .ad-top-banner,
            .ad-bottom-banner {
                min-height: 50px;
            }
        }

        .loading {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 1000;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(0, 217, 255, 0.2);
            border-top-color: var(--accent-primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            margin-top: 1rem;
            color: var(--accent-primary);
            font-size: 1.2rem;
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Modal styles */
        .modal {
            position: fixed;
            z-index: 1001;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.8);
            display: none;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: var(--bg-dark);
            margin: auto;
            padding: 2rem;
            border: 1px solid var(--accent-primary);
            width: 80%;
            max-width: 1200px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: var(--shadow-glow);
        }

        .modal-close-btn {
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            color: var(--accent-negative);
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
        }

        .modal-close-btn:hover,
        .modal-close-btn:focus {
            color: #ff006e;
            text-decoration: none;
            cursor: pointer;
        }

        #rawData-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1.5rem;
        }

        #rawData-table th, #rawData-table td {
            border: 1px solid var(--accent-tertiary);
            padding: 0.75rem;
            text-align: left;
        }

        #rawData-table th {
            background-color: var(--header-bg);
            color: var(--accent-primary);
        }

        #rawData-table tr:nth-child(even) {
            background-color: var(--stats-bg);
        }
    </style>
</head>
<body>
    <div class="noise-overlay"></div>
    
    <!-- Main Header with Semantic HTML -->
    <header role="banner">
        <div class="header-content">
            <h1 class="logo">â—‰ GLOBAL TRENDS</h1>
            <nav role="navigation" aria-label="Main navigation">
                <div class="main-nav">
                    <a href="index.html" class="nav-link">Home</a>
                    <a href="blog.html" class="nav-link">Blog</a>
                    <a href="about.html" class="nav-link">About</a>
                    <a href="contact.html" class="nav-link">Contact</a>
                </div>
                <div class="controls">
                    <div class="control-group">
                        <label for="timeframe" class="sr-only">Select timeframe</label>
                        <select id="timeframe" aria-label="Timeframe filter">
                            <option value="1h">Past Hour</option>
                            <option value="4h">Past 4 Hours</option>
                            <option value="24h" selected>Past 24 Hours</option>
                            <option value="7d">Past 7 Days</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label for="category" class="sr-only">Select category</label>
                        <select id="category" aria-label="Category filter">
                            <option value="all">All Categories</option>
                            <option value="tech">Technology</option>
                            <option value="entertainment">Entertainment</option>
                            <option value="sports">Sports</option>
                            <option value="politics">Politics</option>
                            <option value="business">Business</option>
                        </select>
                    </div>
                    <button class="btn active" id="bubbleView" aria-label="Bubble view mode">Bubble View</button>
                    <button class="btn" id="rawDataView" aria-label="Raw data view mode">Raw Data</button>
                    <button class="btn" id="resetView" aria-label="Reset view">Reset</button>
                    <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark/light mode">
                        <span id="themeIcon">ðŸŒ™</span>
                    </button>
                </div>
            </nav>
        </div>
    </header>

    <!-- Statistics Bar -->
    <aside class="stats-bar" role="complementary" aria-label="Trending statistics">
        <div class="stats-content">
            <div class="stat-item">
                <span class="stat-label">Trending Topics:</span>
                <span class="stat-value" id="totalTrends" aria-live="polite">100</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Updated:</span>
                <time class="stat-value" id="updateTime" datetime="">Just now</time>
            </div>
            <div class="stat-item">
                <span class="stat-label">Most Searched:</span>
                <span class="stat-value" id="topTrend">Loading...</span>
            </div>
        </div>
    </aside>

    <!-- Main Content Area -->
    <main role="main" class="main-container">
        <!-- Search and Filter Section -->
        <section class="search-area" aria-label="Search and filter trends">
            <div class="search-input-wrapper">
                <label for="searchInput" class="sr-only">Search trends</label>
                <input type="search" class="search-input" id="searchInput" placeholder="Search trends... (e.g., AI, Taylor Swift, Bitcoin)" aria-label="Search trending topics">
            </div>
            <aside class="legend" role="complementary" aria-label="Category legend">
                <div class="legend-item">
                    <div class="legend-color" style="background: #00d9ff;" aria-hidden="true"></div>
                    <span class="legend-text">Technology</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #ff006e;" aria-hidden="true"></div>
                    <span class="legend-text">Entertainment</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #8338ec;" aria-hidden="true"></div>
                    <span class="legend-text">Sports</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #06ffa5;" aria-hidden="true"></div>
                    <span class="legend-text">Politics</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #ffd60a;" aria-hidden="true"></div>
                    <span class="legend-text">Business</span>
                </div>
            </aside>
        </section>

        <!-- Treemap Visualization -->
        <article class="bubble-container" aria-label="Interactive trends treemap">
            <div class="treemap-container" id="treemapContainer" role="region" aria-live="polite"></div>
        </article>


    <!-- Trend Details Panel -->
    <aside class="info-panel" id="infoPanel" role="dialog" aria-labelledby="infoTitle" aria-hidden="true">
        <button class="close-btn" id="closePanel" aria-label="Close details panel">Ã—</button>
        <h2 id="infoTitle">Trend Details</h2>
        <dl>
            <div class="info-detail">
                <dt class="info-label">Category:</dt>
                <dd class="info-value" id="infoCategory">-</dd>
            </div>
            <div class="info-detail">
                <dt class="info-label">Search Volume:</dt>
                <dd class="info-value" id="infoVolume">-</dd>
            </div>
            <div class="info-detail">
                <dt class="info-label">Change:</dt>
                <dd class="info-value" id="infoChange">-</dd>
            </div>
            <div class="info-detail">
                <dt class="info-label">Peak Time:</dt>
                <dd class="info-value" id="infoPeakTime">-</dd>
            </div>
            <div class="info-detail">
                <dt class="info-label">Region:</dt>
                <dd class="info-value" id="infoRegion">-</dd>
            </div>
        </dl>
        <a class="google-trends-btn" id="googleTrendsBtn" target="_blank" rel="noopener noreferrer" role="button">
            View on Google Trends â†’
        </a>
    </aside>

    <!-- Raw Data Modal -->
    <div id="rawDataModal" class="modal">
        <div class="modal-content">
            <span class="modal-close-btn" id="closeRawDataModal">&times;</span>
            <h2>Raw Trend Data</h2>
            <table id="rawData-table">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Category</th>
                        <th>Volume</th>
                        <th>Change</th>
                        <th>Peak Time</th>
                        <th>Region</th>
                    </tr>
                </thead>
                <tbody id="rawData-tbody">
                </tbody>
            </table>
        </div>
    </div>


    <!-- Footer with SEO Content -->
    <footer role="contentinfo" style="background: rgba(10, 14, 39, 0.9); padding: 3rem; margin-top: 3rem; color: var(--text-secondary);">
        <div style="max-width: 1400px; margin: 0 auto;">
            <div style="margin-bottom: 2rem;">
                <div style="max-width: 800px; margin: 0 auto;">
                    <h3 style="color: var(--accent-primary); margin-bottom: 1rem; font-size: 1.2rem; text-align: center;">About Global Trends Bubble</h3>
                    <p style="line-height: 1.6; text-align: center;">Global Trends Bubble provides real-time visualization of trending topics from around the world. Our interactive treemap helps you discover what's popular across technology, entertainment, sports, politics, and business sectors.</p>
                </div>
            </div>
            <div style="border-top: 1px solid rgba(255,255,255,0.1); padding-top: 2rem; text-align: center;">
                <p>&copy; 2026 Global Trends Bubble. Data powered by Google Trends. All rights reserved.</p>
                <p style="margin-top: 0.5rem; font-size: 0.9rem;">
                    <a href="privacypolicy.html" style="color: var(--text-secondary); margin: 0 1rem;">Privacy Policy</a>
                    <a href="termsofservice.html" style="color: var(--text-secondary); margin: 0 1rem;">Terms of Service</a>
                    <a href="contact.html" style="color: var(--text-secondary); margin: 0 1rem;">Contact Us</a>
                </p>
            </div>
        </div>
    </footer>

    <script>
        // ìƒ˜í”Œ íŠ¸ë Œë“œ ë°ì´í„° ìƒì„±
        const generateTrendData = () => {
            const categories = ['tech', 'entertainment', 'sports', 'politics', 'business'];
            const categoryColors = {
                tech: { positive: '#00d9ff', negative: '#0066ff' },
                entertainment: { positive: '#ff006e', negative: '#cc0055' },
                sports: { positive: '#8338ec', negative: '#6610cc' },
                politics: { positive: '#06ffa5', negative: '#00cc77' },
                business: { positive: '#ffd60a', negative: '#ccaa00' }
            };

            const trendNames = [
                // Tech
                'AI Revolution', 'ChatGPT Update', 'iPhone 16', 'Tesla Cybertruck', 'Meta Quest 3',
                'Google Gemini', 'Apple Vision Pro', 'Quantum Computing', 'SpaceX Launch', 'Nvidia Stock',
                'OpenAI', 'Microsoft AI', 'Bitcoin ETF', 'Ethereum 2.0', 'Web3 Gaming',
                'Neural Link', 'Starlink', '5G Networks', 'Robotics', 'Cloud Computing',
                // Entertainment
                'Taylor Swift', 'Oscars 2026', 'Netflix Shows', 'BTS Concert', 'Marvel Movies',
                'Barbie Movie', 'Oppenheimer', 'Dune Part 3', 'Avatar 3', 'Spotify Wrapped',
                'Grammy Awards', 'Eurovision', 'Coachella', 'Squid Game S3', 'Stranger Things',
                'The Weeknd', 'BeyoncÃ©', 'Super Bowl', 'F1 Racing', 'Premier League',
                // Sports
                'NBA Finals', 'World Cup', 'Olympics', 'Messi Transfer', 'Ronaldo Goals',
                'MLB Season', 'NFL Draft', 'Wimbledon', 'Tour de France', 'Champions League',
                'LeBron James', 'Tom Brady', 'Serena Williams', 'Usain Bolt', 'Lewis Hamilton',
                'UFC Fight', 'Boxing Match', 'Cricket World Cup', 'Golf Masters', 'Tennis Open',
                // Politics
                'US Elections', 'Climate Summit', 'G20 Meeting', 'NATO Summit', 'UN Assembly',
                'Trump Rally', 'Biden Speech', 'EU Parliament', 'Brexit News', 'China Taiwan',
                'Middle East', 'Ukraine News', 'Global Economy', 'Fed Interest Rate', 'Inflation Data',
                'Supreme Court', 'Senate Vote', 'Trade Deal', 'Immigration Policy', 'Healthcare Reform',
                // Business
                'Stock Market', 'Apple Earnings', 'Amazon Prime', 'Google Revenue', 'Meta Profit',
                'Oil Prices', 'Gold Market', 'Real Estate', 'Startup Funding', 'IPO Launch',
                'Tesla Sales', 'Microsoft Deal', 'Disney Plus', 'Nike Launch', 'McDonald\'s Menu',
                'Walmart Sale', 'Costco Deals', 'Target Fashion', 'IKEA Opening', 'Starbucks New'
            ];

            return trendNames.slice(0, 100).map((name, i) => {
                const category = categories[Math.floor(i / 20) % categories.length];
                const volume = Math.random() * 900000 + 100000;
                const change = (Math.random() - 0.3) * 200;
                const isPositive = change >= 0;
                
                return {
                    name,
                    category,
                    volume: Math.floor(volume),
                    change: Math.floor(change),
                    color: isPositive ? categoryColors[category].positive : categoryColors[category].negative,
                    isPositive,
                    peakTime: `${Math.floor(Math.random() * 12) + 1}:${Math.floor(Math.random() * 60).toString().padStart(2, '0')} ${Math.random() > 0.5 ? 'AM' : 'PM'}`,
                    region: ['Global', 'US', 'EU', 'Asia', 'Americas'][Math.floor(Math.random() * 5)]
                };
            });
        };

        class TreemapView {
            constructor(container) {
                this.container = container;
                this.trends = [];
                this.allTrends = [];
            }

            setTrends(trends) {
                this.allTrends = trends;
                this.trends = trends;
                this.render();
            }

            getSizeClass(volume, maxVolume) {
                const normalized = volume / maxVolume;
                if (normalized > 0.8) return 'size-xl';
                if (normalized > 0.6) return 'size-lg';
                if (normalized > 0.4) return 'size-md';
                if (normalized > 0.2) return 'size-sm';
                return 'size-xs';
            }

            getColorIntensity(change) {
                // Calculate color intensity based on change percentage
                const absChange = Math.abs(change);
                const maxChange = 100;
                const intensity = Math.min(absChange / maxChange, 1);
                return intensity;
            }

            adjustColor(color, intensity) {
                // Adjust color brightness based on intensity
                const r = parseInt(color.slice(1, 3), 16);
                const g = parseInt(color.slice(3, 5), 16);
                const b = parseInt(color.slice(5, 7), 16);
                
                const factor = 0.3 + (intensity * 0.7); // Range from 0.3 to 1.0
                
                const newR = Math.floor(r * factor);
                const newG = Math.floor(g * factor);
                const newB = Math.floor(b * factor);
                
                return `rgb(${newR}, ${newG}, ${newB})`;
            }

            render() {
                this.container.innerHTML = '';
                
                if (this.trends.length === 0) {
                    this.container.innerHTML = '<div style="display: flex; align-items: center; justify-content: center; height: 100%; color: var(--text-secondary);">No trends found</div>';
                    return;
                }

                const maxVolume = Math.max(...this.trends.map(t => t.volume));

                // Group by category
                const categories = ['tech', 'entertainment', 'sports', 'politics', 'business'];
                const categoryLabels = {
                    tech: 'Technology',
                    entertainment: 'Entertainment',
                    sports: 'Sports',
                    politics: 'Politics',
                    business: 'Business'
                };

                categories.forEach(category => {
                    const categoryTrends = this.trends.filter(t => t.category === category);
                    if (categoryTrends.length === 0) return;

                    // Sort by volume
                    categoryTrends.sort((a, b) => b.volume - a.volume);

                    const section = document.createElement('div');
                    section.className = 'category-section';

                    categoryTrends.forEach(trend => {
                        const item = document.createElement('div');
                        const sizeClass = this.getSizeClass(trend.volume, maxVolume);
                        const intensity = this.getColorIntensity(trend.change);
                        const adjustedColor = this.adjustColor(trend.color, intensity);
                        
                        item.className = `treemap-item ${sizeClass} ${trend.isPositive ? 'positive' : 'negative'}`;
                        item.style.setProperty('--item-color', adjustedColor);
                        item.style.backgroundColor = adjustedColor;
                        item.setAttribute('role', 'button');
                        item.setAttribute('tabindex', '0');
                        item.setAttribute('aria-label', `${trend.name}, ${(trend.volume / 1000).toFixed(0)}K searches, ${trend.change >= 0 ? 'up' : 'down'} ${Math.abs(trend.change)} percent`);
                        
                        item.innerHTML = `
                            <div class="item-name">${trend.name}</div>
                            <div class="item-stats">
                                <div class="item-volume">${(trend.volume / 1000).toFixed(0)}K</div>
                                <div class="item-change">${trend.change >= 0 ? '+' : ''}${trend.change}%</div>
                            </div>
                        `;

                        const showInfoHandler = () => this.showInfo(trend);
                        item.addEventListener('click', showInfoHandler);
                        item.addEventListener('keypress', (e) => {
                            if (e.key === 'Enter' || e.key === ' ') {
                                e.preventDefault();
                                showInfoHandler();
                            }
                        });

                        section.appendChild(item);
                    });

                    this.container.appendChild(section);
                });
            }

            showInfo(trend) {
                const panel = document.getElementById('infoPanel');
                panel.classList.add('active');
                panel.setAttribute('aria-hidden', 'false');
                
                document.getElementById('infoTitle').textContent = trend.name;
                document.getElementById('infoCategory').textContent = trend.category.toUpperCase();
                document.getElementById('infoVolume').textContent = trend.volume.toLocaleString();
                document.getElementById('infoChange').textContent = 
                    (trend.change >= 0 ? '+' : '') + trend.change + '%';
                document.getElementById('infoChange').style.color = 
                    trend.change >= 0 ? '#06ffa5' : '#ff3366';
                document.getElementById('infoPeakTime').textContent = trend.peakTime;
                document.getElementById('infoRegion').textContent = trend.region;

                // Set Google Trends link
                const googleTrendsBtn = document.getElementById('googleTrendsBtn');
                const encodedQuery = encodeURIComponent(trend.name);
                googleTrendsBtn.href = `https://trends.google.com/trends/explore?q=${encodedQuery}`;
            }

            filterByCategory(category) {
                if (category === 'all') {
                    this.trends = this.allTrends;
                } else {
                    this.trends = this.allTrends.filter(t => t.category === category);
                }
                this.render();
            }

            filterBySearch(query) {
                if (!query) {
                    this.trends = this.allTrends;
                } else {
                    this.trends = this.allTrends.filter(t => 
                        t.name.toLowerCase().includes(query.toLowerCase())
                    );
                }
                this.render();
            }
        }

        // Initialize
        const container = document.getElementById('treemapContainer');
        const treemapView = new TreemapView(container);
        const trends = generateTrendData();
        treemapView.setTrends(trends);

        // Update stats
        document.getElementById('totalTrends').textContent = trends.length;
        document.getElementById('topTrend').textContent = trends[0].name;

        // Update time
        setInterval(() => {
            const now = new Date();
            document.getElementById('updateTime').textContent = now.toLocaleTimeString();
        }, 1000);

        // Theme Toggle
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = document.getElementById('themeIcon');
        const body = document.body;

        // Check for saved theme preference or default to 'dark'
        const currentTheme = localStorage.getItem('theme') || 'dark';
        body.setAttribute('data-theme', currentTheme);
        themeIcon.textContent = currentTheme === 'dark' ? 'ðŸŒ™' : 'â˜€ï¸';

        themeToggle.addEventListener('click', () => {
            const currentTheme = body.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            body.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            themeIcon.textContent = newTheme === 'dark' ? 'ðŸŒ™' : 'â˜€ï¸';
        });

        // Initialize Google AdSense ads (1 ad unit)
        (adsbygoogle = window.adsbygoogle || []).push({});


        // Event handlers
        document.getElementById('closePanel').addEventListener('click', () => {
            const panel = document.getElementById('infoPanel');
            panel.classList.remove('active');
            panel.setAttribute('aria-hidden', 'true');
        });

        document.getElementById('category').addEventListener('change', (e) => {
            treemapView.filterByCategory(e.target.value);
            document.getElementById('totalTrends').textContent = treemapView.trends.length;
        });

        document.getElementById('searchInput').addEventListener('input', (e) => {
            treemapView.filterBySearch(e.target.value);
            document.getElementById('totalTrends').textContent = treemapView.trends.length;
        });

        document.getElementById('resetView').addEventListener('click', () => {
            const newTrends = generateTrendData();
            treemapView.setTrends(newTrends);
            document.getElementById('searchInput').value = '';
            document.getElementById('category').value = 'all';
            document.getElementById('totalTrends').textContent = newTrends.length;
            document.getElementById('topTrend').textContent = newTrends[0].name;
        });

        document.getElementById('timeframe').addEventListener('change', (e) => {
            const newTrends = generateTrendData();
            treemapView.setTrends(newTrends);
            document.getElementById('totalTrends').textContent = newTrends.length;
            document.getElementById('topTrend').textContent = newTrends[0].name;
        });

        // Raw Data Modal
        const rawDataModal = document.getElementById('rawDataModal');
        const rawDataBtn = document.getElementById('rawDataView');
        const closeRawDataModal = document.getElementById('closeRawDataModal');
        const rawDataTbody = document.getElementById('rawData-tbody');

        const populateRawDataTable = () => {
            rawDataTbody.innerHTML = '';
            treemapView.allTrends.forEach(trend => {
                const row = `<tr>
                    <td>${trend.name}</td>
                    <td>${trend.category}</td>
                    <td>${trend.volume.toLocaleString()}</td>
                    <td>${trend.change}%</td>
                    <td>${trend.peakTime}</td>
                    <td>${trend.region}</td>
                </tr>`;
                rawDataTbody.innerHTML += row;
            });
        };

        rawDataBtn.addEventListener('click', () => {
            populateRawDataTable();
            rawDataModal.style.display = 'flex';
        });

        closeRawDataModal.addEventListener('click', () => {
            rawDataModal.style.display = 'none';
        });

        window.addEventListener('click', (event) => {
            if (event.target == rawDataModal) {
                rawDataModal.style.display = 'none';
            }
        });
    </script>
    <script src="main.js"></script>
</body>
</html>